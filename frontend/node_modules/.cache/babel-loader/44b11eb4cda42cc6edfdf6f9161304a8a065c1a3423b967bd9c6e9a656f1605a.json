{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sayda\\\\CascadeProjects\\\\beta-tech-support\\\\frontend\\\\src\\\\pages\\\\tickets\\\\TicketDetails.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Container, Paper, Typography, Box, Grid, Chip, Divider, TextField, Button, CircularProgress, Card, CardContent, Avatar, IconButton, Menu, MenuItem, Dialog, DialogTitle, DialogContent, DialogActions, Alert } from '@mui/material';\nimport { Send as SendIcon, MoreVert as MoreVertIcon, AttachFile as AttachFileIcon } from '@mui/icons-material';\nimport axios from 'axios';\nimport { useAuth } from '../../contexts/AuthContext';\nimport io from 'socket.io-client';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst getStatusColor = status => {\n  switch (status) {\n    case 'new':\n      return 'info';\n    case 'in_progress':\n      return 'warning';\n    case 'on_hold':\n      return 'error';\n    case 'resolved':\n      return 'success';\n    default:\n      return 'default';\n  }\n};\nconst getPriorityColor = priority => {\n  switch (priority) {\n    case 'urgent':\n      return 'error';\n    case 'high':\n      return 'warning';\n    case 'medium':\n      return 'info';\n    case 'low':\n      return 'success';\n    default:\n      return 'default';\n  }\n};\nconst TicketDetails = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const {\n    user\n  } = useAuth();\n  const [ticket, setTicket] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [socket, setSocket] = useState(null);\n  const messagesEndRef = useRef(null);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [statusDialog, setStatusDialog] = useState(false);\n  const [newStatus, setNewStatus] = useState('');\n  useEffect(() => {\n    const newSocket = io(process.env.REACT_APP_API_URL);\n    setSocket(newSocket);\n    newSocket.emit('join_ticket', id);\n    newSocket.on('message_received', data => {\n      setMessages(prev => [...prev, data]);\n      scrollToBottom();\n    });\n    fetchTicketDetails();\n    return () => {\n      newSocket.close();\n    };\n  }, [id]);\n  const fetchTicketDetails = async () => {\n    try {\n      const [ticketRes, messagesRes] = await Promise.all([axios.get(`${process.env.REACT_APP_API_URL}/api/tickets/${id}`), axios.get(`${process.env.REACT_APP_API_URL}/api/tickets/${id}/messages`)]);\n      setTicket(ticketRes.data);\n      setMessages(messagesRes.data);\n      scrollToBottom();\n    } catch (err) {\n      setError('Failed to load ticket details');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  const handleSendMessage = async () => {\n    if (!message.trim()) return;\n    try {\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/tickets/${id}/messages`, {\n        content: message,\n        sender: user._id\n      });\n      socket.emit('ticket_message', {\n        ticketId: id,\n        message: response.data\n      });\n      setMessage('');\n    } catch (err) {\n      setError('Failed to send message');\n    }\n  };\n  const handleStatusChange = async () => {\n    try {\n      await axios.patch(`${process.env.REACT_APP_API_URL}/api/tickets/${id}/status`, {\n        status: newStatus\n      });\n      setTicket(prev => ({\n        ...prev,\n        status: newStatus\n      }));\n      setStatusDialog(false);\n      setAnchorEl(null);\n    } catch (err) {\n      setError('Failed to update ticket status');\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        height: '100vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this);\n  }\n  if (!ticket) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        severity: \"error\",\n        children: \"Ticket not found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    children: [/*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        p: 3,\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          mb: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          children: [\"Ticket #\", ticket.ticketNumber]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), (user.role === 'admin' || user.role === 'technical') && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: e => setAnchorEl(e.currentTarget),\n            children: /*#__PURE__*/_jsxDEV(MoreVertIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Menu, {\n            anchorEl: anchorEl,\n            open: Boolean(anchorEl),\n            onClose: () => setAnchorEl(null),\n            children: /*#__PURE__*/_jsxDEV(MenuItem, {\n              onClick: () => {\n                setStatusDialog(true);\n                setAnchorEl(null);\n              },\n              children: \"Update Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle2\",\n            color: \"textSecondary\",\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Chip, {\n            label: ticket.status.replace('_', ' '),\n            color: getStatusColor(ticket.status),\n            sx: {\n              mt: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle2\",\n            color: \"textSecondary\",\n            children: \"Priority\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Chip, {\n            label: ticket.priority,\n            color: getPriorityColor(ticket.priority),\n            sx: {\n              mt: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle2\",\n            color: \"textSecondary\",\n            children: \"Category\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            children: ticket.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle2\",\n            color: \"textSecondary\",\n            children: \"Product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            children: ticket.product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), ticket.product.serialNumber && /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 6,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle2\",\n            color: \"textSecondary\",\n            children: \"Serial Number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            children: ticket.product.serialNumber\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"subtitle2\",\n            color: \"textSecondary\",\n            children: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            children: ticket.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        p: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        gutterBottom: true,\n        children: \"Communication\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          height: '400px',\n          overflowY: 'auto',\n          mb: 2\n        },\n        children: [messages.map((msg, index) => /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            justifyContent: msg.sender._id === user._id ? 'flex-end' : 'flex-start',\n            mb: 2\n          },\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            sx: {\n              maxWidth: '70%',\n              bgcolor: msg.sender._id === user._id ? 'primary.light' : 'grey.100'\n            },\n            children: /*#__PURE__*/_jsxDEV(CardContent, {\n              sx: {\n                py: 1,\n                '&:last-child': {\n                  pb: 1\n                }\n              },\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                sx: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  mb: 1\n                },\n                children: [/*#__PURE__*/_jsxDEV(Avatar, {\n                  sx: {\n                    width: 24,\n                    height: 24,\n                    mr: 1\n                  },\n                  children: msg.sender.name[0]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"textSecondary\",\n                  children: [msg.sender.name, \" - \", new Date(msg.timestamp).toLocaleString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body2\",\n                children: msg.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n        sx: {\n          mb: 2\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          gap: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          placeholder: \"Type your message...\",\n          value: message,\n          onChange: e => setMessage(e.target.value),\n          onKeyPress: e => e.key === 'Enter' && handleSendMessage()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"primary\",\n          children: /*#__PURE__*/_jsxDEV(AttachFileIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          endIcon: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 22\n          }, this),\n          onClick: handleSendMessage,\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n      open: statusDialog,\n      onClose: () => setStatusDialog(false),\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        children: \"Update Ticket Status\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n        children: /*#__PURE__*/_jsxDEV(TextField, {\n          select: true,\n          fullWidth: true,\n          value: newStatus,\n          onChange: e => setNewStatus(e.target.value),\n          sx: {\n            mt: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n            value: \"new\",\n            children: \"New\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: \"in_progress\",\n            children: \"In Progress\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: \"on_hold\",\n            children: \"On Hold\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            value: \"resolved\",\n            children: \"Resolved\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setStatusDialog(false),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleStatusChange,\n          variant: \"contained\",\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 5\n  }, this);\n};\n_s(TicketDetails, \"e7qm/j/gOz+OHYnQXZ6uhjLsDls=\", false, function () {\n  return [useParams, useAuth];\n});\n_c = TicketDetails;\nexport default TicketDetails;\nvar _c;\n$RefreshReg$(_c, \"TicketDetails\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useParams","Container","Paper","Typography","Box","Grid","Chip","Divider","TextField","Button","CircularProgress","Card","CardContent","Avatar","IconButton","Menu","MenuItem","Dialog","DialogTitle","DialogContent","DialogActions","Alert","Send","SendIcon","MoreVert","MoreVertIcon","AttachFile","AttachFileIcon","axios","useAuth","io","jsxDEV","_jsxDEV","Fragment","_Fragment","getStatusColor","status","getPriorityColor","priority","TicketDetails","_s","id","user","ticket","setTicket","loading","setLoading","error","setError","message","setMessage","messages","setMessages","socket","setSocket","messagesEndRef","anchorEl","setAnchorEl","statusDialog","setStatusDialog","newStatus","setNewStatus","newSocket","process","env","REACT_APP_API_URL","emit","on","data","prev","scrollToBottom","fetchTicketDetails","close","ticketRes","messagesRes","Promise","all","get","err","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","trim","response","post","content","sender","_id","ticketId","handleStatusChange","patch","sx","display","justifyContent","alignItems","height","children","fileName","_jsxFileName","lineNumber","columnNumber","severity","maxWidth","p","mb","variant","ticketNumber","role","onClick","e","currentTarget","open","Boolean","onClose","container","spacing","item","xs","md","color","label","replace","mt","category","product","name","serialNumber","description","gutterBottom","overflowY","map","msg","index","bgcolor","py","pb","width","mr","Date","timestamp","toLocaleString","ref","gap","fullWidth","placeholder","value","onChange","target","onKeyPress","key","endIcon","select","_c","$RefreshReg$"],"sources":["C:/Users/sayda/CascadeProjects/beta-tech-support/frontend/src/pages/tickets/TicketDetails.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { useParams } from 'react-router-dom';\nimport {\n  Container,\n  Paper,\n  Typography,\n  Box,\n  Grid,\n  Chip,\n  Divider,\n  TextField,\n  Button,\n  CircularProgress,\n  Card,\n  CardContent,\n  Avatar,\n  IconButton,\n  Menu,\n  MenuItem,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Alert\n} from '@mui/material';\nimport {\n  Send as SendIcon,\n  MoreVert as MoreVertIcon,\n  AttachFile as AttachFileIcon\n} from '@mui/icons-material';\nimport axios from 'axios';\nimport { useAuth } from '../../contexts/AuthContext';\nimport io from 'socket.io-client';\n\nconst getStatusColor = (status) => {\n  switch (status) {\n    case 'new':\n      return 'info';\n    case 'in_progress':\n      return 'warning';\n    case 'on_hold':\n      return 'error';\n    case 'resolved':\n      return 'success';\n    default:\n      return 'default';\n  }\n};\n\nconst getPriorityColor = (priority) => {\n  switch (priority) {\n    case 'urgent':\n      return 'error';\n    case 'high':\n      return 'warning';\n    case 'medium':\n      return 'info';\n    case 'low':\n      return 'success';\n    default:\n      return 'default';\n  }\n};\n\nconst TicketDetails = () => {\n  const { id } = useParams();\n  const { user } = useAuth();\n  const [ticket, setTicket] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [message, setMessage] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [socket, setSocket] = useState(null);\n  const messagesEndRef = useRef(null);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [statusDialog, setStatusDialog] = useState(false);\n  const [newStatus, setNewStatus] = useState('');\n\n  useEffect(() => {\n    const newSocket = io(process.env.REACT_APP_API_URL);\n    setSocket(newSocket);\n\n    newSocket.emit('join_ticket', id);\n\n    newSocket.on('message_received', (data) => {\n      setMessages(prev => [...prev, data]);\n      scrollToBottom();\n    });\n\n    fetchTicketDetails();\n\n    return () => {\n      newSocket.close();\n    };\n  }, [id]);\n\n  const fetchTicketDetails = async () => {\n    try {\n      const [ticketRes, messagesRes] = await Promise.all([\n        axios.get(`${process.env.REACT_APP_API_URL}/api/tickets/${id}`),\n        axios.get(`${process.env.REACT_APP_API_URL}/api/tickets/${id}/messages`)\n      ]);\n      setTicket(ticketRes.data);\n      setMessages(messagesRes.data);\n      scrollToBottom();\n    } catch (err) {\n      setError('Failed to load ticket details');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  const handleSendMessage = async () => {\n    if (!message.trim()) return;\n\n    try {\n      const response = await axios.post(`${process.env.REACT_APP_API_URL}/api/tickets/${id}/messages`, {\n        content: message,\n        sender: user._id\n      });\n\n      socket.emit('ticket_message', {\n        ticketId: id,\n        message: response.data\n      });\n\n      setMessage('');\n    } catch (err) {\n      setError('Failed to send message');\n    }\n  };\n\n  const handleStatusChange = async () => {\n    try {\n      await axios.patch(`${process.env.REACT_APP_API_URL}/api/tickets/${id}/status`, {\n        status: newStatus\n      });\n      setTicket(prev => ({ ...prev, status: newStatus }));\n      setStatusDialog(false);\n      setAnchorEl(null);\n    } catch (err) {\n      setError('Failed to update ticket status');\n    }\n  };\n\n  if (loading) {\n    return (\n      <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}>\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  if (!ticket) {\n    return (\n      <Container>\n        <Alert severity=\"error\">Ticket not found</Alert>\n      </Container>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"lg\">\n      <Paper sx={{ p: 3, mb: 3 }}>\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>\n          <Typography variant=\"h5\">\n            Ticket #{ticket.ticketNumber}\n          </Typography>\n          {(user.role === 'admin' || user.role === 'technical') && (\n            <>\n              <IconButton onClick={(e) => setAnchorEl(e.currentTarget)}>\n                <MoreVertIcon />\n              </IconButton>\n              <Menu\n                anchorEl={anchorEl}\n                open={Boolean(anchorEl)}\n                onClose={() => setAnchorEl(null)}\n              >\n                <MenuItem onClick={() => {\n                  setStatusDialog(true);\n                  setAnchorEl(null);\n                }}>\n                  Update Status\n                </MenuItem>\n              </Menu>\n            </>\n          )}\n        </Box>\n\n        <Grid container spacing={3}>\n          <Grid item xs={12} md={6}>\n            <Typography variant=\"subtitle2\" color=\"textSecondary\">Status</Typography>\n            <Chip\n              label={ticket.status.replace('_', ' ')}\n              color={getStatusColor(ticket.status)}\n              sx={{ mt: 1 }}\n            />\n          </Grid>\n          <Grid item xs={12} md={6}>\n            <Typography variant=\"subtitle2\" color=\"textSecondary\">Priority</Typography>\n            <Chip\n              label={ticket.priority}\n              color={getPriorityColor(ticket.priority)}\n              sx={{ mt: 1 }}\n            />\n          </Grid>\n          <Grid item xs={12} md={6}>\n            <Typography variant=\"subtitle2\" color=\"textSecondary\">Category</Typography>\n            <Typography variant=\"body1\">{ticket.category}</Typography>\n          </Grid>\n          <Grid item xs={12} md={6}>\n            <Typography variant=\"subtitle2\" color=\"textSecondary\">Product</Typography>\n            <Typography variant=\"body1\">{ticket.product.name}</Typography>\n          </Grid>\n          {ticket.product.serialNumber && (\n            <Grid item xs={12} md={6}>\n              <Typography variant=\"subtitle2\" color=\"textSecondary\">Serial Number</Typography>\n              <Typography variant=\"body1\">{ticket.product.serialNumber}</Typography>\n            </Grid>\n          )}\n          <Grid item xs={12}>\n            <Typography variant=\"subtitle2\" color=\"textSecondary\">Description</Typography>\n            <Typography variant=\"body1\">{ticket.description}</Typography>\n          </Grid>\n        </Grid>\n      </Paper>\n\n      {/* Chat Section */}\n      <Paper sx={{ p: 3 }}>\n        <Typography variant=\"h6\" gutterBottom>\n          Communication\n        </Typography>\n        <Box sx={{ height: '400px', overflowY: 'auto', mb: 2 }}>\n          {messages.map((msg, index) => (\n            <Box\n              key={index}\n              sx={{\n                display: 'flex',\n                justifyContent: msg.sender._id === user._id ? 'flex-end' : 'flex-start',\n                mb: 2\n              }}\n            >\n              <Card\n                sx={{\n                  maxWidth: '70%',\n                  bgcolor: msg.sender._id === user._id ? 'primary.light' : 'grey.100'\n                }}\n              >\n                <CardContent sx={{ py: 1, '&:last-child': { pb: 1 } }}>\n                  <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\n                    <Avatar sx={{ width: 24, height: 24, mr: 1 }}>\n                      {msg.sender.name[0]}\n                    </Avatar>\n                    <Typography variant=\"caption\" color=\"textSecondary\">\n                      {msg.sender.name} - {new Date(msg.timestamp).toLocaleString()}\n                    </Typography>\n                  </Box>\n                  <Typography variant=\"body2\">{msg.content}</Typography>\n                </CardContent>\n              </Card>\n            </Box>\n          ))}\n          <div ref={messagesEndRef} />\n        </Box>\n\n        <Divider sx={{ mb: 2 }} />\n\n        <Box sx={{ display: 'flex', gap: 1 }}>\n          <TextField\n            fullWidth\n            placeholder=\"Type your message...\"\n            value={message}\n            onChange={(e) => setMessage(e.target.value)}\n            onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()}\n          />\n          <IconButton color=\"primary\">\n            <AttachFileIcon />\n          </IconButton>\n          <Button\n            variant=\"contained\"\n            endIcon={<SendIcon />}\n            onClick={handleSendMessage}\n          >\n            Send\n          </Button>\n        </Box>\n      </Paper>\n\n      {/* Status Update Dialog */}\n      <Dialog open={statusDialog} onClose={() => setStatusDialog(false)}>\n        <DialogTitle>Update Ticket Status</DialogTitle>\n        <DialogContent>\n          <TextField\n            select\n            fullWidth\n            value={newStatus}\n            onChange={(e) => setNewStatus(e.target.value)}\n            sx={{ mt: 2 }}\n          >\n            <MenuItem value=\"new\">New</MenuItem>\n            <MenuItem value=\"in_progress\">In Progress</MenuItem>\n            <MenuItem value=\"on_hold\">On Hold</MenuItem>\n            <MenuItem value=\"resolved\">Resolved</MenuItem>\n          </TextField>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setStatusDialog(false)}>Cancel</Button>\n          <Button onClick={handleStatusChange} variant=\"contained\">\n            Update\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </Container>\n  );\n};\n\nexport default TicketDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}