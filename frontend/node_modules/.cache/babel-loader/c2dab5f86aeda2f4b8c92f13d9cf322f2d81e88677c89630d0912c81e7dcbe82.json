{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sayda\\\\CascadeProjects\\\\beta-tech-support\\\\frontend\\\\src\\\\components\\\\tickets\\\\TicketList.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Chip, IconButton, Typography, Box, Avatar, Tooltip, CircularProgress } from '@mui/material';\nimport { Visibility as VisibilityIcon, Assignment as AssignmentIcon, Person as PersonIcon } from '@mui/icons-material';\nimport { useAuth } from '../../contexts/AuthContext';\nimport AssignTicketDialog from './AssignTicketDialog';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst getStatusColor = status => {\n  switch (status) {\n    case 'new':\n      return 'info';\n    case 'in_progress':\n      return 'warning';\n    case 'on_hold':\n      return 'error';\n    case 'resolved':\n      return 'success';\n    default:\n      return 'default';\n  }\n};\nconst getPriorityColor = priority => {\n  switch (priority) {\n    case 'urgent':\n      return 'error';\n    case 'high':\n      return 'warning';\n    case 'medium':\n      return 'info';\n    case 'low':\n      return 'success';\n    default:\n      return 'default';\n  }\n};\nconst TicketList = ({\n  tickets,\n  onAssign,\n  showAssignButton = false,\n  onTicketUpdated,\n  loading: externalLoading\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const location = useLocation();\n  const {\n    user\n  } = useAuth();\n  const [assignDialogOpen, setAssignDialogOpen] = useState(false);\n  const [selectedTicketId, setSelectedTicketId] = useState(null);\n  const [localLoading, setLocalLoading] = useState(false);\n\n  // Use external loading state if provided\n  const loading = externalLoading || localLoading;\n\n  // Ensure we have a valid user role for navigation\n  const userRole = (user === null || user === void 0 ? void 0 : user.role) || 'client';\n  const handleViewTicket = ticketId => {\n    // Navigate to the correct role-specific ticket details page\n    navigate(`/${userRole}/tickets/${ticketId}`);\n  };\n\n  // Handle opening the assign dialog\n  const handleAssignClick = ticketId => {\n    console.log('Opening assign dialog for ticket:', ticketId);\n    setSelectedTicketId(ticketId);\n    setAssignDialogOpen(true);\n  };\n\n  // Handle successful ticket assignment\n  const handleAssignSuccess = updatedTicket => {\n    console.log('Ticket assigned successfully', updatedTicket);\n    setLocalLoading(true);\n    if (onTicketUpdated) {\n      console.log('Calling onTicketUpdated callback');\n      onTicketUpdated();\n    }\n    setTimeout(() => setLocalLoading(false), 1000); // Give time for the UI to update\n  };\n\n  // Safely handle the case where tickets is undefined or empty\n  const validTickets = Array.isArray(tickets) ? tickets : [];\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: 'flex',\n        justifyContent: 'center',\n        p: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this);\n  }\n  if (!validTickets.length) {\n    return /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 3,\n        textAlign: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        color: \"textSecondary\",\n        children: \"No tickets found\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Remove any duplicate tickets based on _id\n  const uniqueTickets = validTickets.filter((ticket, index, self) => index === self.findIndex(t => t._id === ticket._id));\n  console.log('Rendering tickets:', uniqueTickets.length);\n  console.log('Sample ticket (first in list):', uniqueTickets[0]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Ticket #\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Client\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Product\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Priority\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Created\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Assigned To\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: uniqueTickets.map(ticket => {\n            var _ticket$client, _ticket$clientDetails, _ticket$clientDetails2, _ticket$client2, _ticket$client3, _ticket$clientDetails3, _ticket$client4, _ticket$client5, _ticket$clientDetails4, _ticket$client6, _ticket$clientDetails5, _ticket$client7, _ticket$product, _ticket$product2, _ticket$product3, _ticket$category, _ticket$category2, _ticket$category3, _ticket$category4, _ticket$product4;\n            // Prepare client display info - use clientDetails if available, otherwise use client\n            // For username fallback, split the username at @ for email usernames\n            const username = ((_ticket$client = ticket.client) === null || _ticket$client === void 0 ? void 0 : _ticket$client.username) || '';\n            const usernameDisplay = username.includes('@') ? username.split('@')[0] : username;\n            const clientName = (_ticket$clientDetails = ticket.clientDetails) !== null && _ticket$clientDetails !== void 0 && _ticket$clientDetails.firstName && (_ticket$clientDetails2 = ticket.clientDetails) !== null && _ticket$clientDetails2 !== void 0 && _ticket$clientDetails2.lastName ? `${ticket.clientDetails.firstName} ${ticket.clientDetails.lastName}` : (_ticket$client2 = ticket.client) !== null && _ticket$client2 !== void 0 && _ticket$client2.firstName && (_ticket$client3 = ticket.client) !== null && _ticket$client3 !== void 0 && _ticket$client3.lastName ? `${ticket.client.firstName} ${ticket.client.lastName}` : usernameDisplay || 'Unknown Client';\n            const companyName = ((_ticket$clientDetails3 = ticket.clientDetails) === null || _ticket$clientDetails3 === void 0 ? void 0 : _ticket$clientDetails3.companyName) || ((_ticket$client4 = ticket.client) === null || _ticket$client4 === void 0 ? void 0 : _ticket$client4.companyName) || ((_ticket$client5 = ticket.client) === null || _ticket$client5 === void 0 ? void 0 : _ticket$client5.company) || 'Unknown Company';\n            const department = ((_ticket$clientDetails4 = ticket.clientDetails) === null || _ticket$clientDetails4 === void 0 ? void 0 : _ticket$clientDetails4.department) || ((_ticket$client6 = ticket.client) === null || _ticket$client6 === void 0 ? void 0 : _ticket$client6.department) || '';\n            const phoneNumber = ((_ticket$clientDetails5 = ticket.clientDetails) === null || _ticket$clientDetails5 === void 0 ? void 0 : _ticket$clientDetails5.phoneNumber) || ((_ticket$client7 = ticket.client) === null || _ticket$client7 === void 0 ? void 0 : _ticket$client7.phoneNumber) || '';\n\n            // Set product info - display complete product details properly\n            const productName = ((_ticket$product = ticket.product) === null || _ticket$product === void 0 ? void 0 : _ticket$product.name) || ticket.productName || 'Unknown Product';\n            const productType = ((_ticket$product2 = ticket.product) === null || _ticket$product2 === void 0 ? void 0 : _ticket$product2.type) || '';\n\n            // Format category and product information for better readability\n            const formattedCategory = ticket.category ? ticket.category.charAt(0).toUpperCase() + ticket.category.slice(1) : 'Other';\n\n            // Handle assignedTo display - check all possible formats\n            const assignedToUser = ticket.assignedTo || {};\n            console.log('Assigned to:', assignedToUser);\n\n            // Format for displaying technician name with username\n            let technicianName = '';\n            let technicianUsername = '';\n            if (assignedToUser) {\n              if (assignedToUser.firstName && assignedToUser.lastName) {\n                technicianName = `${assignedToUser.firstName} ${assignedToUser.lastName}`;\n                technicianUsername = assignedToUser.username || '';\n              } else if (assignedToUser.name) {\n                technicianName = assignedToUser.name;\n                technicianUsername = assignedToUser.username || '';\n              } else if (assignedToUser.username) {\n                technicianName = assignedToUser.username;\n                technicianUsername = assignedToUser.username;\n              }\n            }\n            return /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: ticket.ticketNumber || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  fontWeight: \"bold\",\n                  children: companyName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: [clientName, department && /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: '#666',\n                      fontSize: '0.85em'\n                    },\n                    children: [\"(\", department, \")\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 19\n                }, this), phoneNumber && /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"textSecondary\",\n                  children: phoneNumber\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 212,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  fontWeight: \"bold\",\n                  children: productName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 19\n                }, this), productType && /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  color: \"textSecondary\",\n                  children: [\"Type: \", productType]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 21\n                }, this), ((_ticket$product3 = ticket.product) === null || _ticket$product3 === void 0 ? void 0 : _ticket$product3.serialNumber) && /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  display: \"block\",\n                  color: \"textSecondary\",\n                  children: [\"S/N: \", ticket.product.serialNumber]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: [/*#__PURE__*/_jsxDEV(Chip, {\n                  size: \"small\",\n                  label: formattedCategory,\n                  color: ((_ticket$category = ticket.category) === null || _ticket$category === void 0 ? void 0 : _ticket$category.toLowerCase()) === 'hardware' ? 'primary' : ((_ticket$category2 = ticket.category) === null || _ticket$category2 === void 0 ? void 0 : _ticket$category2.toLowerCase()) === 'software' ? 'secondary' : ((_ticket$category3 = ticket.category) === null || _ticket$category3 === void 0 ? void 0 : _ticket$category3.toLowerCase()) === 'network' ? 'success' : ((_ticket$category4 = ticket.category) === null || _ticket$category4 === void 0 ? void 0 : _ticket$category4.toLowerCase()) === 'account' ? 'warning' : 'default'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 231,\n                  columnNumber: 19\n                }, this), ((_ticket$product4 = ticket.product) === null || _ticket$product4 === void 0 ? void 0 : _ticket$product4.type) && /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  display: \"block\",\n                  sx: {\n                    mt: 1\n                  },\n                  children: ticket.product.type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: /*#__PURE__*/_jsxDEV(Chip, {\n                  size: \"small\",\n                  label: ticket.priority,\n                  color: getPriorityColor(ticket.priority)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: /*#__PURE__*/_jsxDEV(Chip, {\n                  size: \"small\",\n                  label: ticket.status.replace('_', ' '),\n                  color: getStatusColor(ticket.status)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: new Date(ticket.createdAt).toLocaleDateString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: technicianName ? /*#__PURE__*/_jsxDEV(Box, {\n                  children: technicianUsername ? /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    children: technicianUsername\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 266,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"body2\",\n                    children: technicianName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n                  color: \"textSecondary\",\n                  children: \"Unassigned\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n                  title: \"View Details\",\n                  children: /*#__PURE__*/_jsxDEV(IconButton, {\n                    size: \"small\",\n                    onClick: () => handleViewTicket(ticket._id),\n                    children: /*#__PURE__*/_jsxDEV(VisibilityIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 281,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 19\n                }, this), (userRole === 'admin' || showAssignButton) && !technicianName && /*#__PURE__*/_jsxDEV(Tooltip, {\n                  title: \"Assign Ticket\",\n                  children: /*#__PURE__*/_jsxDEV(IconButton, {\n                    size: \"small\",\n                    onClick: () => handleAssignClick(ticket._id),\n                    children: /*#__PURE__*/_jsxDEV(AssignmentIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 291,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 21\n                }, this), onAssign && !technicianName && /*#__PURE__*/_jsxDEV(Tooltip, {\n                  title: \"Claim Ticket\",\n                  children: /*#__PURE__*/_jsxDEV(IconButton, {\n                    size: \"small\",\n                    onClick: () => onAssign(ticket._id),\n                    children: /*#__PURE__*/_jsxDEV(PersonIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 302,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 298,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 17\n              }, this)]\n            }, ticket._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AssignTicketDialog, {\n      open: assignDialogOpen,\n      handleClose: () => setAssignDialogOpen(false),\n      ticketId: selectedTicketId,\n      onSuccess: handleAssignSuccess\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 315,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(TicketList, \"MIR5OaAWm433V62Q71nIU2ScoHQ=\", false, function () {\n  return [useNavigate, useLocation, useAuth];\n});\n_c = TicketList;\nexport default TicketList;\nvar _c;\n$RefreshReg$(_c, \"TicketList\");","map":{"version":3,"names":["React","useState","useNavigate","useLocation","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Chip","IconButton","Typography","Box","Avatar","Tooltip","CircularProgress","Visibility","VisibilityIcon","Assignment","AssignmentIcon","Person","PersonIcon","useAuth","AssignTicketDialog","jsxDEV","_jsxDEV","Fragment","_Fragment","getStatusColor","status","getPriorityColor","priority","TicketList","tickets","onAssign","showAssignButton","onTicketUpdated","loading","externalLoading","_s","navigate","location","user","assignDialogOpen","setAssignDialogOpen","selectedTicketId","setSelectedTicketId","localLoading","setLocalLoading","userRole","role","handleViewTicket","ticketId","handleAssignClick","console","log","handleAssignSuccess","updatedTicket","setTimeout","validTickets","Array","isArray","sx","display","justifyContent","p","children","fileName","_jsxFileName","lineNumber","columnNumber","length","textAlign","variant","color","uniqueTickets","filter","ticket","index","self","findIndex","t","_id","component","map","_ticket$client","_ticket$clientDetails","_ticket$clientDetails2","_ticket$client2","_ticket$client3","_ticket$clientDetails3","_ticket$client4","_ticket$client5","_ticket$clientDetails4","_ticket$client6","_ticket$clientDetails5","_ticket$client7","_ticket$product","_ticket$product2","_ticket$product3","_ticket$category","_ticket$category2","_ticket$category3","_ticket$category4","_ticket$product4","username","client","usernameDisplay","includes","split","clientName","clientDetails","firstName","lastName","companyName","company","department","phoneNumber","productName","product","name","productType","type","formattedCategory","category","charAt","toUpperCase","slice","assignedToUser","assignedTo","technicianName","technicianUsername","ticketNumber","fontWeight","style","fontSize","serialNumber","size","label","toLowerCase","mt","replace","Date","createdAt","toLocaleDateString","title","onClick","open","handleClose","onSuccess","_c","$RefreshReg$"],"sources":["C:/Users/sayda/CascadeProjects/beta-tech-support/frontend/src/components/tickets/TicketList.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport {\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Chip,\n  IconButton,\n  Typography,\n  Box,\n  Avatar,\n  Tooltip,\n  CircularProgress\n} from '@mui/material';\nimport {\n  Visibility as VisibilityIcon,\n  Assignment as AssignmentIcon,\n  Person as PersonIcon\n} from '@mui/icons-material';\nimport { useAuth } from '../../contexts/AuthContext';\nimport AssignTicketDialog from './AssignTicketDialog';\n\nconst getStatusColor = (status) => {\n  switch (status) {\n    case 'new':\n      return 'info';\n    case 'in_progress':\n      return 'warning';\n    case 'on_hold':\n      return 'error';\n    case 'resolved':\n      return 'success';\n    default:\n      return 'default';\n  }\n};\n\nconst getPriorityColor = (priority) => {\n  switch (priority) {\n    case 'urgent':\n      return 'error';\n    case 'high':\n      return 'warning';\n    case 'medium':\n      return 'info';\n    case 'low':\n      return 'success';\n    default:\n      return 'default';\n  }\n};\n\nconst TicketList = ({ tickets, onAssign, showAssignButton = false, onTicketUpdated, loading: externalLoading }) => {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const { user } = useAuth();\n  const [assignDialogOpen, setAssignDialogOpen] = useState(false);\n  const [selectedTicketId, setSelectedTicketId] = useState(null);\n  const [localLoading, setLocalLoading] = useState(false);\n  \n  // Use external loading state if provided\n  const loading = externalLoading || localLoading;\n\n  // Ensure we have a valid user role for navigation\n  const userRole = user?.role || 'client';\n\n  const handleViewTicket = (ticketId) => {\n    // Navigate to the correct role-specific ticket details page\n    navigate(`/${userRole}/tickets/${ticketId}`);\n  };\n\n  // Handle opening the assign dialog\n  const handleAssignClick = (ticketId) => {\n    console.log('Opening assign dialog for ticket:', ticketId);\n    setSelectedTicketId(ticketId);\n    setAssignDialogOpen(true);\n  };\n\n  // Handle successful ticket assignment\n  const handleAssignSuccess = (updatedTicket) => {\n    console.log('Ticket assigned successfully', updatedTicket);\n    setLocalLoading(true);\n    if (onTicketUpdated) {\n      console.log('Calling onTicketUpdated callback');\n      onTicketUpdated();\n    }\n    setTimeout(() => setLocalLoading(false), 1000); // Give time for the UI to update\n  };\n\n  // Safely handle the case where tickets is undefined or empty\n  const validTickets = Array.isArray(tickets) ? tickets : [];\n  \n  if (loading) {\n    return (\n      <Box sx={{ display: 'flex', justifyContent: 'center', p: 3 }}>\n        <CircularProgress />\n      </Box>\n    );\n  }\n  \n  if (!validTickets.length) {\n    return (\n      <Box sx={{ p: 3, textAlign: 'center' }}>\n        <Typography variant=\"h6\" color=\"textSecondary\">\n          No tickets found\n        </Typography>\n      </Box>\n    );\n  }\n\n  // Remove any duplicate tickets based on _id\n  const uniqueTickets = validTickets.filter((ticket, index, self) => \n    index === self.findIndex(t => t._id === ticket._id)\n  );\n\n  console.log('Rendering tickets:', uniqueTickets.length);\n  console.log('Sample ticket (first in list):', uniqueTickets[0]);\n\n  return (\n    <>\n      <TableContainer component={Paper}>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>Ticket #</TableCell>\n              <TableCell>Client</TableCell>\n              <TableCell>Product</TableCell>\n              <TableCell>Category</TableCell>\n              <TableCell>Priority</TableCell>\n              <TableCell>Status</TableCell>\n              <TableCell>Created</TableCell>\n              <TableCell>Assigned To</TableCell>\n              <TableCell>Actions</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {uniqueTickets.map((ticket) => {\n              // Prepare client display info - use clientDetails if available, otherwise use client\n              // For username fallback, split the username at @ for email usernames\n              const username = ticket.client?.username || '';\n              const usernameDisplay = username.includes('@') ? username.split('@')[0] : username;\n              \n              const clientName = \n                (ticket.clientDetails?.firstName && ticket.clientDetails?.lastName) ? \n                  `${ticket.clientDetails.firstName} ${ticket.clientDetails.lastName}` :\n                (ticket.client?.firstName && ticket.client?.lastName) ? \n                  `${ticket.client.firstName} ${ticket.client.lastName}` :\n                  usernameDisplay || 'Unknown Client';\n                  \n              const companyName = \n                ticket.clientDetails?.companyName || \n                ticket.client?.companyName || \n                ticket.client?.company || \n                'Unknown Company';\n                \n              const department = \n                ticket.clientDetails?.department || \n                ticket.client?.department || '';\n                \n              const phoneNumber = \n                ticket.clientDetails?.phoneNumber || \n                ticket.client?.phoneNumber || '';\n\n              // Set product info - display complete product details properly\n              const productName = ticket.product?.name || ticket.productName || 'Unknown Product';\n              const productType = ticket.product?.type || '';\n              \n              // Format category and product information for better readability\n              const formattedCategory = ticket.category ? ticket.category.charAt(0).toUpperCase() + ticket.category.slice(1) : 'Other';\n              \n              // Handle assignedTo display - check all possible formats\n              const assignedToUser = ticket.assignedTo || {};\n              console.log('Assigned to:', assignedToUser);\n              \n              // Format for displaying technician name with username\n              let technicianName = '';\n              let technicianUsername = '';\n              \n              if (assignedToUser) {\n                if (assignedToUser.firstName && assignedToUser.lastName) {\n                  technicianName = `${assignedToUser.firstName} ${assignedToUser.lastName}`;\n                  technicianUsername = assignedToUser.username || '';\n                } else if (assignedToUser.name) {\n                  technicianName = assignedToUser.name;\n                  technicianUsername = assignedToUser.username || '';\n                } else if (assignedToUser.username) {\n                  technicianName = assignedToUser.username;\n                  technicianUsername = assignedToUser.username;\n                }\n              }\n                \n              return (\n              <TableRow key={ticket._id}>\n                <TableCell>{ticket.ticketNumber || 'N/A'}</TableCell>\n                <TableCell>\n                  <Typography variant=\"body2\" fontWeight=\"bold\">\n                    {companyName}\n                  </Typography>\n                  <Typography variant=\"body2\">\n                    {clientName}\n                    {department && \n                      <span style={{ color: '#666', fontSize: '0.85em' }}>\n                        ({department})\n                      </span>\n                    }\n                  </Typography>\n                  {phoneNumber && (\n                    <Typography variant=\"caption\" color=\"textSecondary\">\n                      {phoneNumber}\n                    </Typography>\n                  )}\n                </TableCell>\n                <TableCell>\n                  <Typography variant=\"body2\" fontWeight=\"bold\">{productName}</Typography>\n                  {productType && (\n                    <Typography variant=\"caption\" color=\"textSecondary\">\n                      Type: {productType}\n                    </Typography>\n                  )}\n                  {ticket.product?.serialNumber && (\n                    <Typography variant=\"caption\" display=\"block\" color=\"textSecondary\">\n                      S/N: {ticket.product.serialNumber}\n                    </Typography>\n                  )}\n                </TableCell>\n                <TableCell>\n                  <Chip\n                    size=\"small\"\n                    label={formattedCategory}\n                    color={ticket.category?.toLowerCase() === 'hardware' ? 'primary' : \n                           ticket.category?.toLowerCase() === 'software' ? 'secondary' : \n                           ticket.category?.toLowerCase() === 'network' ? 'success' : \n                           ticket.category?.toLowerCase() === 'account' ? 'warning' : 'default'}\n                  />\n                  {ticket.product?.type && (\n                    <Typography variant=\"caption\" display=\"block\" sx={{ mt: 1 }}>\n                      {ticket.product.type}\n                    </Typography>\n                  )}\n                </TableCell>\n                <TableCell>\n                  <Chip\n                    size=\"small\"\n                    label={ticket.priority}\n                    color={getPriorityColor(ticket.priority)}\n                  />\n                </TableCell>\n                <TableCell>\n                  <Chip\n                    size=\"small\"\n                    label={ticket.status.replace('_', ' ')}\n                    color={getStatusColor(ticket.status)}\n                  />\n                </TableCell>\n                <TableCell>\n                  {new Date(ticket.createdAt).toLocaleDateString()}\n                </TableCell>\n                <TableCell>\n                  {technicianName ? (\n                    <Box>\n                      {technicianUsername ? (\n                        <Typography variant=\"body2\">{technicianUsername}</Typography>\n                      ) : (\n                        <Typography variant=\"body2\">{technicianName}</Typography>\n                      )}\n                    </Box>\n                  ) : (\n                    <Typography color=\"textSecondary\">Unassigned</Typography>\n                  )}\n                </TableCell>\n                <TableCell>\n                  <Tooltip title=\"View Details\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleViewTicket(ticket._id)}\n                    >\n                      <VisibilityIcon />\n                    </IconButton>\n                  </Tooltip>\n                  \n                  {(userRole === 'admin' || showAssignButton) && !technicianName && (\n                    <Tooltip title=\"Assign Ticket\">\n                      <IconButton\n                        size=\"small\"\n                        onClick={() => handleAssignClick(ticket._id)}\n                      >\n                        <AssignmentIcon />\n                      </IconButton>\n                    </Tooltip>\n                  )}\n                  \n                  {onAssign && !technicianName && (\n                    <Tooltip title=\"Claim Ticket\">\n                      <IconButton\n                        size=\"small\"\n                        onClick={() => onAssign(ticket._id)}\n                      >\n                        <PersonIcon />\n                      </IconButton>\n                    </Tooltip>\n                  )}\n                </TableCell>\n              </TableRow>\n              );\n            })}\n          </TableBody>\n        </Table>\n      </TableContainer>\n\n      {/* Ticket Assignment Dialog */}\n      <AssignTicketDialog \n        open={assignDialogOpen}\n        handleClose={() => setAssignDialogOpen(false)}\n        ticketId={selectedTicketId}\n        onSuccess={handleAssignSuccess}\n      />\n    </>\n  );\n};\n\nexport default TicketList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}