{"ast":null,"code":"import { io } from 'socket.io-client';\nconst SOCKET_URL = process.env.REACT_APP_API_URL || 'http://localhost:5002';\nlet socket = null;\nexport const initSocket = token => {\n  if (socket) {\n    socket.disconnect();\n  }\n  socket = io(SOCKET_URL, {\n    auth: {\n      token\n    },\n    transports: ['websocket'],\n    reconnection: true,\n    reconnectionAttempts: 5,\n    reconnectionDelay: 1000\n  });\n  socket.on('connect', () => {\n    console.log('Socket connected');\n  });\n  socket.on('connect_error', error => {\n    console.error('Socket connection error:', error);\n  });\n  socket.on('disconnect', reason => {\n    console.log('Socket disconnected:', reason);\n  });\n  return socket;\n};\nexport const disconnectSocket = () => {\n  if (socket) {\n    socket.disconnect();\n    socket = null;\n  }\n};\nexport { socket };","map":{"version":3,"names":["io","SOCKET_URL","process","env","REACT_APP_API_URL","socket","initSocket","token","disconnect","auth","transports","reconnection","reconnectionAttempts","reconnectionDelay","on","console","log","error","reason","disconnectSocket"],"sources":["C:/Users/sayda/CascadeProjects/beta-tech-support/frontend/src/utils/socket.js"],"sourcesContent":["import { io } from 'socket.io-client';\r\n\r\nconst SOCKET_URL = process.env.REACT_APP_API_URL || 'http://localhost:5002';\r\n\r\nlet socket = null;\r\n\r\nexport const initSocket = (token) => {\r\n  if (socket) {\r\n    socket.disconnect();\r\n  }\r\n\r\n  socket = io(SOCKET_URL, {\r\n    auth: { token },\r\n    transports: ['websocket'],\r\n    reconnection: true,\r\n    reconnectionAttempts: 5,\r\n    reconnectionDelay: 1000,\r\n  });\r\n\r\n  socket.on('connect', () => {\r\n    console.log('Socket connected');\r\n  });\r\n\r\n  socket.on('connect_error', (error) => {\r\n    console.error('Socket connection error:', error);\r\n  });\r\n\r\n  socket.on('disconnect', (reason) => {\r\n    console.log('Socket disconnected:', reason);\r\n  });\r\n\r\n  return socket;\r\n};\r\n\r\nexport const disconnectSocket = () => {\r\n  if (socket) {\r\n    socket.disconnect();\r\n    socket = null;\r\n  }\r\n};\r\n\r\nexport { socket }; "],"mappings":"AAAA,SAASA,EAAE,QAAQ,kBAAkB;AAErC,MAAMC,UAAU,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AAE3E,IAAIC,MAAM,GAAG,IAAI;AAEjB,OAAO,MAAMC,UAAU,GAAIC,KAAK,IAAK;EACnC,IAAIF,MAAM,EAAE;IACVA,MAAM,CAACG,UAAU,CAAC,CAAC;EACrB;EAEAH,MAAM,GAAGL,EAAE,CAACC,UAAU,EAAE;IACtBQ,IAAI,EAAE;MAAEF;IAAM,CAAC;IACfG,UAAU,EAAE,CAAC,WAAW,CAAC;IACzBC,YAAY,EAAE,IAAI;IAClBC,oBAAoB,EAAE,CAAC;IACvBC,iBAAiB,EAAE;EACrB,CAAC,CAAC;EAEFR,MAAM,CAACS,EAAE,CAAC,SAAS,EAAE,MAAM;IACzBC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;EACjC,CAAC,CAAC;EAEFX,MAAM,CAACS,EAAE,CAAC,eAAe,EAAGG,KAAK,IAAK;IACpCF,OAAO,CAACE,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;EAClD,CAAC,CAAC;EAEFZ,MAAM,CAACS,EAAE,CAAC,YAAY,EAAGI,MAAM,IAAK;IAClCH,OAAO,CAACC,GAAG,CAAC,sBAAsB,EAAEE,MAAM,CAAC;EAC7C,CAAC,CAAC;EAEF,OAAOb,MAAM;AACf,CAAC;AAED,OAAO,MAAMc,gBAAgB,GAAGA,CAAA,KAAM;EACpC,IAAId,MAAM,EAAE;IACVA,MAAM,CAACG,UAAU,CAAC,CAAC;IACnBH,MAAM,GAAG,IAAI;EACf;AACF,CAAC;AAED,SAASA,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}